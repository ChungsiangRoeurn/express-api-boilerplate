generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

enum Role {
    ADMIN
    USER
}

model User {
    id                          Int         @id @default(autoincrement())
    name                        String
    email                       String      @unique
    password                    String
    role                        Role        @default(USER)
    createdAt                   DateTime    @default(now())
    updatedAt                   DateTime    @updatedAt
    defaultShippingAddress      Int?
    defaultBillingAddress       Int?

    addresses       Address[]
    @@map("user")
}

model Address {
    id                          Int         @id @default(autoincrement())
    lineOne                     String
    lineTwo                     String?
    city                        String
    country                     String
    pincode                     String
    userId                      Int
    user                        User        @relation(fields: [userId], references: [id])
    createdAt                   DateTime    @default(now())
    updatedAt                   DateTime    @updatedAt

    @@map("addresses")
}

model Products {
    id                          Int         @id @default(autoincrement())
    name                        String
    description                 String
    price                       Decimal
    tags                        String
    createdAt                   DateTime    @default(now())
    updatedAt                   DateTime    @updatedAt

    @@map("products")
}